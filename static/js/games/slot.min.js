"use strict";const slot=()=>{const changelevelElem=document.getElementById("slotChangeLevel"),currentValueElem=document.getElementById("slot-current-value");function setCurrentValue(val){currentValueElem.innerText=val}function rangeOnChange(e){setCurrentValue(e.target.value)}window.onload=()=>{changelevelElem.addEventListener("input",rangeOnChange),setCurrentValue(randomNum),changelevelElem.value=randomNum};let randomNum=Math.floor(5*Math.random()+1);class Panel{constructor(){this.range=randomNum;const section=document.createElement("section");section.classList.add("panel"),this.img=document.createElement("img"),this.img.src=this.getRandomImage(),this.timeoutId=void 0,this.stop=document.createElement("div"),this.stop.textContent="STOP",this.stop.classList.add("stop","inactive"),this.stop.addEventListener("click",()=>{this.stop.classList.contains("inactive")||(this.stop.classList.add("inactive"),clearTimeout(this.timeoutId),panelsLeft--,0===panelsLeft&&(checkResult(),spin.classList.remove("inactive"),panelsLeft=3))}),section.appendChild(this.img),section.appendChild(this.stop);const main=document.querySelector("main");main.appendChild(section)}getRandomImage(){let images=["./../../../static/img/games/slot/seven.png","./../../../static/img/games/slot/bell.png","./../../../static/img/games/slot/cherry.png"];return 1==this.range?images=images:2==this.range?images.push("./../../../static/img/games/slot/burger.png"):3==this.range?(images.push("./../../../static/img/games/slot/burger.png"),images.push("./../../../static/img/games/slot/apple.png")):4==this.range?(images.push("./../../../static/img/games/slot/burger.png"),images.push("./../../../static/img/games/slot/apple.png"),images.push("./../../../static/img/games/slot/pizza.png")):(images.push("./../../../static/img/games/slot/burger.png"),images.push("./../../../static/img/games/slot/apple.png"),images.push("./../../../static/img/games/slot/pizza.png"),images.push("./../../../static/img/games/slot/grape.png")),images[Math.floor(Math.random()*images.length)]}spin(){this.img.src=this.getRandomImage(),this.timeoutId=setTimeout(()=>{this.spin()},50)}isUnmatched(p1,p2){return this.img.src!==p1.img.src&&this.img.src!==p2.img.src}unmatch(){this.img.classList.add("unmatched")}activate(){this.img.classList.remove("unmatched"),this.stop.classList.remove("inactive")}}const slotPoint=document.getElementById("slot_point"),slotPointBtn=document.getElementById("slot_point_btn");function setPoint(point){slotPoint.value=point}function sendPoint(e){slotPointBtn.click(e)}function checkResult(){panels[0].isUnmatched(panels[1],panels[2])?(panels[0].unmatch(),setPoint(-300)):panels[1].isUnmatched(panels[0],panels[2])?(panels[1].unmatch(),setPoint(-300)):panels[2].isUnmatched(panels[0],panels[1])?(panels[2].unmatch(),setPoint(-300)):setPoint(3e3),sendPoint()}let panels=[new Panel,new Panel,new Panel],panelsLeft=3;const spin=document.getElementById("spin");spin.addEventListener("click",()=>{spin.classList.contains("inactive")||(spin.classList.add("inactive"),panels.forEach(panel=>{panel.activate(),panel.spin()}))})};slot();