"use strict";{const changelevelElem=document.getElementById("slotChangeLevel"),currentValueElem=document.getElementById("slot-current-value");function setCurrentValue(val){currentValueElem.innerText=val}function rangeOnChange(e){setCurrentValue(e.target.value),getImageSet(e.target.value)}window.onload=()=>{changelevelElem.addEventListener("input",rangeOnChange),setCurrentValue(changelevelElem.value),getImageSet(changelevelElem.value)};class Panel{constructor(range){const section=document.createElement("section");section.classList.add("panel"),this.img=document.createElement("img"),this.img.src=this.getRandomImage(),this.timeoutId=void 0,this.stop=document.createElement("div"),this.stop.textContent="STOP",this.stop.classList.add("stop","inactive"),this.stop.addEventListener("click",()=>{this.stop.classList.contains("inactive")||(this.stop.classList.add("inactive"),clearTimeout(this.timeoutId),panelsLeft--,0===panelsLeft&&(checkResult(),spin.classList.remove("inactive"),panelsLeft=3))}),section.appendChild(this.img),section.appendChild(this.stop);const main=document.querySelector("main");main.appendChild(section),this.changelevelElem=document.getElementById("slotChangeLevel"),this.currentValueElem=document.getElementById("slot-current-value"),getImageSet(range)}getImageSet(lev){const images_def=["./../../../static/img/games/slot/seven.png","./../../../static/img/games/slot/bell.png","./../../../static/img/games/slot/cherry.png"];return 1==lev?images_def=images_def:2==lev?images_def.push("./../../../static/img/games/slot/burger.png"):3==lev?(images_def.push("./../../../static/img/games/slot/burger.png"),images_def.push("./../../../static/img/games/slot/apple.png")):4==lev?(images_def.push("./../../../static/img/games/slot/burger.png"),images_def.push("./../../../static/img/games/slot/apple.png"),images_def.push("./../../../static/img/games/slot/pizza.png")):(images_def.push("./../../../static/img/games/slot/burger.png"),images_def.push("./../../../static/img/games/slot/apple.png"),images_def.push("./../../../static/img/games/slot/pizza.png"),images_def.push("./../../../static/img/games/slot/grape.png")),images_def}getRandomImage(){let images=this.getImageSet();return images[Math.floor(Math.random()*images.length)]}spin(){this.img.src=this.getRandomImage(),this.timeoutId=setTimeout(()=>{this.spin()},50)}isUnmatched(p1,p2){return this.img.src!==p1.img.src&&this.img.src!==p2.img.src}unmatch(){this.img.classList.add("unmatched")}activate(){this.img.classList.remove("unmatched"),this.stop.classList.remove("inactive")}}function checkResult(){panels[0].isUnmatched(panels[1],panels[2])&&panels[0].unmatch(),panels[1].isUnmatched(panels[0],panels[2])&&panels[1].unmatch(),panels[2].isUnmatched(panels[0],panels[1])&&panels[2].unmatch()}let panels=[new Panel(num),new Panel(num),new Panel(num)],panelsLeft=3;const spin=document.getElementById("spin");spin.addEventListener("click",()=>{spin.classList.contains("inactive")||(spin.classList.add("inactive"),panels.forEach(panel=>{panel.activate(),panel.spin()}))})}