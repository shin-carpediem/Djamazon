"use strict";const calendar=()=>{const today=new Date;let year=today.getFullYear(),month=today.getMonth();function getCalendarHead(){const dates=[],d=new Date(year,month,0).getDate(),n=new Date(year,month,1).getDay();for(let i=0;i<n;i++)dates.unshift({date:d-i,isToday:!1,isDisabled:!0});return dates}function getCalendarBody(){const dates=[],lastDate=new Date(year,month+1,0).getDate();for(let i=1;i<=lastDate;i++)dates.push({date:i,isToday:!1,isDisabled:!1});return year===today.getFullYear()&&month===today.getMonth()&&(dates[today.getDate()-1].isToday=!0),dates}function getCalendarTail(){const dates=[],lastDay=new Date(year,month+1,0).getDay();for(let i=1;i<7-lastDay;i++)dates.push({date:i,isToday:!1,isDisabled:!0});return dates}function clearCalendar(){const tbody=document.querySelector("tbody");for(;tbody.firstChild;)tbody.removeChild(tbody.firstChild)}function renderTitle(){const title=`${year}/${String(month+1).padStart(2,"0")}`;document.getElementById("calendar_title").textContent=title}function renderWeeks(){const dates=[...getCalendarHead(),...getCalendarBody(),...getCalendarTail()],weeks=[],weeksCount=dates.length/7;for(let i=0;i<weeksCount;i++)weeks.push(dates.splice(0,7));weeks.forEach(week=>{const tr=document.createElement("tr");week.forEach(date=>{const td=document.createElement("td");td.textContent=date.date,date.isToday&&td.classList.add("today"),date.isDisabled&&td.classList.add("disabled"),tr.appendChild(td)}),document.querySelector("tbody").appendChild(tr)})}function createCalendar(){clearCalendar(),renderTitle(),renderWeeks()}document.getElementById("prev").addEventListener("click",()=>{month--,month<0&&(year--,month=11),createCalendar()}),document.getElementById("next").addEventListener("click",()=>{month++,month>11&&(year++,month=0),createCalendar()}),createCalendar(),document.getElementById("today").addEventListener("click",()=>{year=today.getFullYear(),month=today.getMonth(),createCalendar()}),createCalendar()};calendar();